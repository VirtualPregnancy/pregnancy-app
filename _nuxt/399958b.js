(window.webpackJsonp=window.webpackJsonp||[]).push([[14,8],{465:function(t,e,h){"use strict";h.d(e,"a",(function(){return l}));var r=h(160);var n=h(204),o=h(127);function l(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(n.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},470:function(t,e,h){"use strict";h.r(e);var r=h(465),n=(h(65),h(67),h(491)),o={props:{waveform:Object},mounted:function(){this.chart=n.a(this.$refs.chart),console.log("[Waveform] Component mounted, received waveform:",this.waveform),this.waveform&&this.waveform.data&&this.waveform.data.length>0?(this.chartTitle=this.waveform.title,this.chartData=this.waveform.data,this.isPlaying=this.waveform.isPlaying,this.speed=this.waveform.speed,console.log("[Waveform] Initializing chart with",this.chartData.length,"data points"),this.drawChart(),this.startPlayheadAnimation()):console.log("[Waveform] No valid waveform data provided")},watch:{waveform:{handler:function(t){console.log("[Waveform] Waveform data changed:",t),t&&t.data&&t.data.length>0&&(this.chartTitle=t.title,this.chartData=t.data,this.isPlaying=t.isPlaying,this.speed=t.speed,console.log("[Waveform] Updating chart with",this.chartData.length,"data points"),this.drawChart(),this.startPlayheadAnimation())},deep:!0,immediate:!0}},data:function(){return{chartData:[],chart:null,playheadIndex:0,playheadTimer:null,isPlaying:!1,chartTitle:"",speed:1}},methods:{resizeChart:function(){this.chart&&this.chart.resize()},drawChart:function(){if(this.chart&&this.chartData&&0!==this.chartData.length){var t=this.chartData.map((function(t,i){return i}));this.chart.setOption({grid:{left:5,right:5,top:5,bottom:5,containLabel:!1},xAxis:{type:"category",boundaryGap:!1,data:t,show:!1,axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},yAxis:{type:"value",min:Math.min.apply(Math,Object(r.a)(this.chartData))-.1*Math.abs(Math.min.apply(Math,Object(r.a)(this.chartData))),max:Math.max.apply(Math,Object(r.a)(this.chartData))+.1*Math.abs(Math.max.apply(Math,Object(r.a)(this.chartData))),show:!1,axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:[{data:this.chartData,type:"line",smooth:!0,showSymbol:!1,sampling:"none",large:!1,lineStyle:{width:2,color:"#1F6683"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(31, 102, 131, 0.3)"},{offset:1,color:"rgba(31, 102, 131, 0.05)"}]}},emphasis:{focus:"none"}}],dataZoom:[{type:"inside",start:0,end:100}],animation:!1,backgroundColor:"transparent"}),this.updatePlayhead()}else console.log("[Waveform] Cannot draw chart - missing data or chart not initialized")},startPlayheadAnimation:function(){var t=this;if(this.isPlaying){this.playheadTimer&&clearInterval(this.playheadTimer);var e=this.chartData.length,h=3e3/this.chartData.length*this.speed;this.playheadIndex=0,this.playheadTimer=setInterval((function(){t.playheadIndex+=1,t.playheadIndex>=e&&(t.playheadIndex=0),t.updatePlayhead()}),h)}},updatePlayhead:function(){if(this.chart){var t=this.chart.convertToPixel({xAxisIndex:0},this.playheadIndex);this.chart.setOption({graphic:[{id:"playhead",type:"line",shape:{x1:t,y1:0,x2:t,y2:this.chart.getHeight()},style:{stroke:"#DD3C51",lineWidth:2},z:10}]})}}},beforeDestroy:function(){this.playheadTimer&&clearInterval(this.playheadTimer)}},l=h(37),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,h=t._self._c||e;return h("div",{staticClass:"waveform-container"},[h("div",{ref:"chart",staticStyle:{width:"100%",height:"100px"}}),t._v(" "),h("div",[t._v(" "+t._s(t.chartTitle))])])}),[],!1,null,null,null);e.default=component.exports}}]);